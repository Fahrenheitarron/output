function onEndAnimation(t,a){endCurrPage=!1,endNextPage=!1,t.attr("class",t.data("originalClassList")),a.attr("class",a.data("originalClassList")+" pt-page-current")}function getAnimationClass(t){switch(t){case 1:outClass="pt-page-moveToLeft",inClass="pt-page-moveFromRight";break;case 2:outClass="pt-page-moveToRight",inClass="pt-page-moveFromLeft"}}var endCurrPage=!1,endNextPage=!1,outClass="",inClass="",animEndEventNames={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},animEndEventName=animEndEventNames[window.Modernizr.prefixed("animation")];$(function(){$(".pt-page").each(function(){var t=$(this);t.data("originalClassList",t.attr("class"))}),$(".pt-page").eq(0).addClass("pt-page-current")}),$(function(){var t,a,e,i,n,s=1,r=($("#viewsWrapper"),$("#viewsWrapper .pt-page"));viewsWrapper.addEventListener("touchstart",function(e){getAnimationClass(parseInt(s)),a=$(".pt-page-current").eq(0),temp=a,$(".pt-page").each(function(){$(this).attr("class",$(this).data("originalClassList"))}),a.addClass("pt-page-current"),t=e.touches[0].clientX,n=!1}),viewsWrapper.addEventListener("touchmove",function(s){n=!0,s.preventDefault();var o=document.documentElement.clientWidth,l=s.touches[0].clientX-t;if(i=a.index(),0>=l){var c=(i+1)%r.length;e=$(r[c]);var d=l+o;s.touches[0].clientX>0&&(r.attr("style",""),a.css({visibility:"visible"}),e.css({transform:"translateX("+d+"px)",zIndex:"1",visibility:"visible"}))}if(l>0){var d=l-o,c=(i-1+r.length)%r.length;e=$(r[c]),a=$(r[i]),e.addClass("pt-page-current"),r.attr("style",""),a.css({visibility:"visible"}),e.css({transform:"translateX("+d+"px)",zIndex:"1",visibility:"visible"})}var p=e.find("img");a.find("img").attr("style",""),p.css({animation:"moveFromRemainRightImg .4s linear both"})}),viewsWrapper.addEventListener("touchend",function(){if(!n){i=a.index();var t=(i+1)%r.length;e=$(r[t]),r.attr("style",""),a.css({visibility:"visible"}),e.css({transform:"translateX(300px)",zIndex:"1",visibility:"visible"})}e.css({animation:"moveFromRemainRight .5s linear both"}),e.off(animEndEventName),endNextPage=!0,endCurrPage&&onEndAnimation(a,e),$(".pt-page").each(function(){$(this).attr("class",$(this).data("originalClassList"))}),e.addClass("pt-page-current"),e.css("zIndex","1")}),$("#pageBack")[0].addEventListener("click",function(){var t=t||window.event;event.stopPropagation?event.stopPropagation():event.cancelBubble=!0})});